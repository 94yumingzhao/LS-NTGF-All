<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 360 270" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect width="360" height="270" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="180" y="20" font-size="12" text-anchor="middle" font-weight="bold" fill="#455A64">RR Algorithm: Three-Stage Decomposition</text>

  <!-- Stage 1 box -->
  <rect x="50" y="40" width="220" height="50" rx="6" fill="#4CAF50" stroke="#2E7D32" stroke-width="2"/>
  <text x="160" y="60" font-size="10" text-anchor="middle" font-weight="bold" fill="white">Stage 1: Solve Setup Structure</text>
  <text x="160" y="75" font-size="9" text-anchor="middle" fill="white">Fix L=0, optimize Y to get y*</text>

  <!-- Output y* -->
  <rect x="285" y="52" width="45" height="26" rx="4" fill="#E8F5E9" stroke="#2E7D32" stroke-width="1"/>
  <text x="307" y="70" font-size="10" text-anchor="middle" font-weight="bold" fill="#2E7D32">y*</text>

  <!-- Arrow 1->2 -->
  <line x1="160" y1="90" x2="160" y2="115" stroke="#455A64" stroke-width="2"/>
  <polygon points="160,115 155,107 165,107" fill="#455A64"/>

  <!-- Stage 2 box -->
  <rect x="50" y="120" width="220" height="50" rx="6" fill="#42A5F5" stroke="#1565C0" stroke-width="2"/>
  <text x="160" y="140" font-size="10" text-anchor="middle" font-weight="bold" fill="white">Stage 2: Solve Carryover</text>
  <text x="160" y="155" font-size="9" text-anchor="middle" fill="white">Fix y=y*, maximize sum(L) to get L*</text>

  <!-- Output L* -->
  <rect x="285" y="132" width="45" height="26" rx="4" fill="#E3F2FD" stroke="#1565C0" stroke-width="1"/>
  <text x="307" y="150" font-size="10" text-anchor="middle" font-weight="bold" fill="#1565C0">L*</text>

  <!-- Arrow 2->3 -->
  <line x1="160" y1="170" x2="160" y2="195" stroke="#455A64" stroke-width="2"/>
  <polygon points="160,195 155,187 165,187" fill="#455A64"/>

  <!-- Stage 3 box -->
  <rect x="50" y="200" width="220" height="50" rx="6" fill="#FF9800" stroke="#F57C00" stroke-width="2"/>
  <text x="160" y="220" font-size="10" text-anchor="middle" font-weight="bold" fill="white">Stage 3: Final Solve</text>
  <text x="160" y="235" font-size="9" text-anchor="middle" fill="white">Fix y*, L*, solve for x*, I*, b*, u*</text>

  <!-- Output final -->
  <rect x="285" y="205" width="50" height="40" rx="4" fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="310" y="222" font-size="9" text-anchor="middle" font-weight="bold" fill="#F57C00">x*, I*</text>
  <text x="310" y="236" font-size="9" text-anchor="middle" font-weight="bold" fill="#F57C00">b*, u*</text>

  <!-- Data flow arrows to outputs -->
  <line x1="270" y1="65" x2="283" y2="65" stroke="#2E7D32" stroke-width="1.5"/>
  <polygon points="283,65 277,61 277,69" fill="#2E7D32"/>

  <line x1="270" y1="145" x2="283" y2="145" stroke="#1565C0" stroke-width="1.5"/>
  <polygon points="283,145 277,141 277,149" fill="#1565C0"/>

  <line x1="270" y1="225" x2="283" y2="225" stroke="#F57C00" stroke-width="1.5"/>
  <polygon points="283,225 277,221 277,229" fill="#F57C00"/>

  <!-- Left side: input labels -->
  <text x="25" y="68" font-size="9" text-anchor="middle" fill="#78909C">Input</text>
  <line x1="38" y1="65" x2="48" y2="65" stroke="#78909C" stroke-width="1"/>
  <polygon points="48,65 43,62 43,68" fill="#78909C"/>

  <text x="25" y="148" font-size="8" text-anchor="middle" fill="#78909C">y*</text>
  <line x1="38" y1="145" x2="48" y2="145" stroke="#78909C" stroke-width="1"/>
  <polygon points="48,145 43,142 43,148" fill="#78909C"/>

  <text x="25" y="228" font-size="8" text-anchor="middle" fill="#78909C">y*, L*</text>
  <line x1="38" y1="225" x2="48" y2="225" stroke="#78909C" stroke-width="1"/>
  <polygon points="48,225 43,222 43,228" fill="#78909C"/>
</svg>
